"use strict";/**
 * jsOnlyLightbox 0.5.3
 * Copyright Â© 2014 Felix Hagspiel - http://jslightbox.felixhagspiel.de
 *
 * @license MIT
 * - Free for use in both personal and commercial projects
 */
function Lightbox(){function t(){return window.innerHeight||document.documentElement.offsetHeight}function e(){return window.innerWidth||document.documentElement.offsetWidth}function n(t,e,n,o){t.addEventListener?t.addEventListener(e,n,o||!1):t.attachEvent&&t.attachEvent("on"+e,n)}function o(t,e){return t&&e?new RegExp("(^|\\s)"+e+"(\\s|$)").test(t.className):void 0}function i(t,e){return t&&e?(t.className=t.className.replace(new RegExp("(?:^|\\s)"+e+"(?!\\S)"),""),t):void 0}function a(t,e){return t&&e?(o(t,e)||(t.className+=" "+e),t):void 0}function r(t){return"undefined"!=typeof t}function s(t,e){if(!t||!r(t))return!1;var n;return t.getAttribute?n=t.getAttribute(e):t.getAttributeNode&&(n=t.getAttributeNode(e).value),r(n)&&""!==n?n:!1}function l(t,e){if(!t||!r(t))return!1;var n;return t.getAttribute?n=t.getAttribute(e):t.getAttributeNode&&(n=t.getAttributeNode(e).value),"string"==typeof n}function p(t){n(t,"click",function(e){E=s(t,"data-jslghtbx-group")||!1,k=t,v(t,!1,!1,!1)},!1)}function g(t){t.stopPropagation?t.stopPropagation():t.returnValue=!1}function c(t){for(var e=[],n=0;n<j.thumbnails.length;n++)s(j.thumbnails[n],"data-jslghtbx-group")===t&&e.push(j.thumbnails[n]);return e}function m(t,e){for(var n=c(e),o=0;o<n.length;o++)if(s(t,"src")===s(n[o],"src")&&s(t,"data-jslghtbx")===s(n[o],"data-jslghtbx"))return o}function d(){if(E){var t=new Image,e=new Image,n=m(k,E);n===O.length-1?(t.src=O[O.length-1].src,e.src=O[0].src):0===n?(t.src=O[O.length-1].src,e.src=O[1].src):(t.src=O[n-1].src,e.src=O[n+1].src)}}function u(){if(!w){h();var t=function(){if(a(j.box,"jslghtbx-loading"),!A&&"number"==typeof j.opt.loadingAnimation){var t=0;N=setInterval(function(){a(W[t],"jslghtbx-active"),setTimeout(function(){i(W[t],"jslghtbx-active")},j.opt.loadingAnimation),t=t>=W.length?0:t+=1},j.opt.loadingAnimation)}};M=setTimeout(t,500)}}function h(){if(!w&&(i(j.box,"jslghtbx-loading"),!A&&"string"!=typeof j.opt.loadingAnimation&&j.opt.loadingAnimation)){clearInterval(N);for(var t=0;t<W.length;t++)i(W[t],"jslghtbx-active")}}function f(){if(!B){if(B=document.createElement("span"),a(B,"jslghtbx-next"),j.opt.nextImg){var t=document.createElement("img");t.setAttribute("src",j.opt.nextImg),B.appendChild(t)}else a(B,"jslghtbx-no-img");n(B,"click",function(t){g(t),j.next()},!1),j.box.appendChild(B)}if(a(B,"jslghtbx-active"),!L){if(L=document.createElement("span"),a(L,"jslghtbx-prev"),j.opt.prevImg){var e=document.createElement("img");e.setAttribute("src",j.opt.prevImg),L.appendChild(e)}else a(L,"jslghtbx-no-img");n(L,"click",function(t){g(t),j.prev()},!1),j.box.appendChild(L)}a(L,"jslghtbx-active")}function b(){if(j.opt.responsive&&B&&L){var e=t()/2-B.offsetHeight/2;B.style.top=e+"px",L.style.top=e+"px"}}function x(t){function e(t){return"boolean"==typeof t?t:!0}if(t||(t={}),j.opt={boxId:t.boxId||!1,controls:e(t.controls),dimensions:e(t.dimensions),captions:e(t.captions),prevImg:"string"==typeof t.prevImg?t.prevImg:!1,nextImg:"string"==typeof t.nextImg?t.nextImg:!1,hideCloseBtn:t.hideCloseBtn||!1,closeOnClick:"boolean"==typeof t.closeOnClick?t.closeOnClick:!0,loadingAnimation:void 0===t.loadingAnimation?!0:t.loadingAnimation,animElCount:t.animElCount||4,preload:e(t.preload),carousel:e(t.carousel),animation:t.animation||400,nextOnClick:e(t.nextOnClick),responsive:e(t.responsive),maxImgSize:t.maxImgSize||.8,keyControls:e(t.keyControls),hideOverflow:t.hideOverflow||!0,onopen:t.onopen||!1,onclose:t.onclose||!1,onload:t.onload||!1,onresize:t.onresize||!1,onloaderror:t.onloaderror||!1},j.opt.boxId)j.box=document.getElementById(j.opt);else if(!j.box&&!document.getElementById("jslghtbx")){var o=document.createElement("div");o.setAttribute("id","jslghtbx"),o.setAttribute("class","jslghtbx"),j.box=o,y.appendChild(j.box)}if(j.box.innerHTML=C,w&&a(j.box,"jslghtbx-ie8"),j.wrapper=document.getElementById("jslghtbx-contentwrapper"),!j.opt.hideCloseBtn){var r=document.createElement("span");r.setAttribute("id","jslghtbx-close"),r.setAttribute("class","jslghtbx-close"),r.innerHTML="X",j.box.appendChild(r),n(r,"click",function(t){g(t),j.close()},!1)}if(!w&&j.opt.closeOnClick&&n(j.box,"click",function(t){j.close()},!1),"string"==typeof j.opt.loadingAnimation)z=document.createElement("img"),z.setAttribute("src",j.opt.loadingAnimation),a(z,"jslghtbx-loading-animation"),j.box.appendChild(z);else if(j.opt.loadingAnimation){j.opt.loadingAnimation="number"==typeof j.opt.loadingAnimation?j.opt.loadingAnimation:200,z=document.createElement("div"),a(z,"jslghtbx-loading-animation");for(var s=0;s<j.opt.animElCount;)W.push(z.appendChild(document.createElement("span"))),s++;j.box.appendChild(z)}j.opt.responsive?(n(window,"resize",function(t){j.resize()},!1),a(j.box,"jslghtbx-nooverflow")):i(j.box,"jslghtbx-nooverflow"),j.opt.keyControls&&n(document,"keydown",function(t){T&&(g(t),39===t.keyCode?j.next():37===t.keyCode?j.prev():27===t.keyCode&&j.close())},!1)}function v(t,e,i,l){if(!t&&!e)return!1;E=e||E||s(t,"data-jslghtbx-group"),E&&(O=c(E),"boolean"!=typeof t||t||(t=O[0])),H.img=new Image,k=t;var p;p="string"==typeof t?t:s(t,"data-jslghtbx")?s(t,"data-jslghtbx"):s(t,"src"),I=!1,T||("number"==typeof j.opt.animation&&a(H.img,"jslghtbx-animate-transition jslghtbx-animate-init"),T=!0,j.opt.onopen&&j.opt.onopen()),j.opt&&r(j.opt.hideOverflow)&&!j.opt.hideOverflow||y.setAttribute("style","overflow: hidden"),j.box.setAttribute("style","padding-top: 0"),j.wrapper.innerHTML="",j.wrapper.appendChild(H.img),j.opt.animation&&a(j.wrapper,"jslghtbx-animate");var m=s(t,"data-jslghtbx-caption");if(m&&j.opt.captions){var x=document.createElement("p");x.setAttribute("class","jslghtbx-caption"),x.innerHTML=m,j.wrapper.appendChild(x)}a(j.box,"jslghtbx-active"),w&&a(j.wrapper,"jslghtbx-active"),j.opt.controls&&O.length>1&&(f(),b()),H.img.onerror=function(){j.opt.onloaderror&&j.opt.onloaderror(l)},H.img.onload=function(){if(H.originalWidth=this.naturalWidth||this.width,H.originalHeight=this.naturalHeight||this.height,w||A){var t=new Image;t.setAttribute("src",p),H.originalWidth=t.width,H.originalHeight=t.height}var e=setInterval(function(){o(j.box,"jslghtbx-active")&&(a(j.wrapper,"jslghtbx-wrapper-active"),"number"==typeof j.opt.animation&&a(H.img,"jslghtbx-animate-transition"),i&&i(),h(),clearTimeout(M),j.opt.preload&&d(),j.opt.nextOnClick&&(a(H.img,"jslghtbx-next-on-click"),n(H.img,"click",function(t){g(t),j.next()},!1)),j.opt.onload&&j.opt.onload(l),clearInterval(e),j.resize())},10)},H.img.setAttribute("src",p),u()}var j=this,w=!1,A=!1,y=document.getElementsByTagName("body")[0],C='<div class="jslghtbx-contentwrapper" id="jslghtbx-contentwrapper" ></div>',I=!1,E=!1,k=!1,H={},O=[],T=!1,z,N,W=[],M,B=!1,L=!1,S,V,P,R;j.opt={},j.box=!1,j.wrapper=!1,j.thumbnails=[],j.load=function(t){navigator.appVersion.indexOf("MSIE 8")>0&&(w=!0),navigator.appVersion.indexOf("MSIE 9")>0&&(A=!0),x(t);for(var e=document.getElementsByTagName("img"),n=0;n<e.length;n++)l(e[n],"data-jslghtbx")&&(j.thumbnails.push(e[n]),p(e[n]))},j.open=function(t,e){t&&e&&(e=!1),v(t,e,!1,!1)},j.resize=function(){if(H.img){S=e(),V=t();var n=j.box.offsetWidth,o=j.box.offsetHeight;!I&&H.img&&H.img.offsetWidth&&H.img.offsetHeight&&(I=H.img.offsetWidth/H.img.offsetHeight),Math.floor(n/I)>o?(P=o*I,R=o):(P=n,R=n/I),P=Math.floor(P*j.opt.maxImgSize),R=Math.floor(R*j.opt.maxImgSize),(j.opt.dimensions&&R>H.originalHeight||j.opt.dimensions&&P>H.originalWidth)&&(R=H.originalHeight,P=H.originalWidth),H.img.setAttribute("width",P),H.img.setAttribute("height",R),H.img.setAttribute("style","margin-top:"+(t()-R)/2+"px"),setTimeout(b,200),j.opt.onresize&&j.opt.onresize()}},j.next=function(){if(E){var t=m(k,E)+1;if(O[t])k=O[t];else{if(!j.opt.carousel)return;k=O[0]}"number"==typeof j.opt.animation?(i(H.img,"jslghtbx-animating-next"),setTimeout(function(){var t=function(){setTimeout(function(){a(H.img,"jslghtbx-animating-next")},j.opt.animation/2)};v(k,!1,t,"next")},j.opt.animation/2)):v(k,!1,!1,"next")}},j.prev=function(){if(E){var t=m(k,E)-1;if(O[t])k=O[t];else{if(!j.opt.carousel)return;k=O[O.length-1]}"number"==typeof j.opt.animation?(i(H.img,"jslghtbx-animating-prev"),setTimeout(function(){var t=function(){setTimeout(function(){a(H.img,"jslghtbx-animating-next")},j.opt.animation/2)};v(k,!1,t,"prev")},j.opt.animation/2)):v(k,!1,!1,"prev")}},j.close=function(){E=!1,k=!1,H={},O=[],T=!1,i(j.box,"jslghtbx-active"),i(j.wrapper,"jslghtbx-wrapper-active"),i(B,"jslghtbx-active"),i(L,"jslghtbx-active"),j.box.setAttribute("style","padding-top: 0px"),h(),w&&j.box.setAttribute("style","display: none"),j.opt&&r(j.opt.hideOverflow)&&!j.opt.hideOverflow||y.setAttribute("style","overflow: auto"),j.opt.onclose&&j.opt.onclose()}}